!function(){function n(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function t(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}function e(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{NELs:function(n,i,o){"use strict";o.r(i),o.d(i,"AddPostModule",(function(){return M}));var r=o("3Pt+"),a=o("AcyG"),c=o("PCNd"),s=o("tyNb"),u=o("pLZG"),l=o("xDUJ"),b=o("EBwW"),f=o("XKO9"),d=function(){var n=function n(t,i,o,r){e(this,n),this.title=t,this.message=i,this.uuid=o,this.language=r};return n.type="[Add Post] Save",n}(),m=o("fXoL"),h=o("ofXK"),p=o("JK/P"),g=o("ocnv"),z=o("B+r4"),v=o("PTRe"),C=o("OzZK"),w=o("RwU8"),y=o("C2AL"),S=o("FwiY"),T=o("sYmb");function E(n,t){1&n&&(m.Sb(0),m.Dc(1),m.gc(2,"translate"),m.Rb()),2&n&&(m.Cb(1),m.Fc(" ",m.hc(2,1,"ERROR.MAXLENGTH")," "))}function L(n,t){1&n&&(m.Sb(0),m.Dc(1),m.gc(2,"translate"),m.Rb()),2&n&&(m.Cb(1),m.Fc(" ",m.hc(2,1,"ERROR.MINLENGTH")," "))}function P(n,t){1&n&&(m.Sb(0),m.Dc(1),m.gc(2,"translate"),m.Rb()),2&n&&(m.Cb(1),m.Fc(" ",m.hc(2,1,"ERROR.REQUIRED")," "))}function D(n,t){if(1&n&&(m.Bc(0,E,3,3,"ng-container",12),m.Bc(1,L,3,3,"ng-container",12),m.Bc(2,P,3,3,"ng-container",12)),2&n){var e=t.$implicit;m.lc("ngIf",e.hasError("maxlength")),m.Cb(1),m.lc("ngIf",e.hasError("minlength")),m.Cb(1),m.lc("ngIf",e.hasError("required"))}}var F,O,R,k,j,A=[{path:"",component:(F=function(){function n(t,i,o){e(this,n),this.store=t,this.location=i,this.modalService=o,this.addForm=new r.f({title:new r.c(null,[r.q.required,r.q.minLength(10),r.q.maxLength(200)]),message:new r.c(null,[r.q.required,r.q.minLength(50),r.q.maxLength(1e3)])}),this.isLoading=!1}return t(n,[{key:"savePost",value:function(){var n=this;Object(l.a)(this.addForm),this.addForm.valid&&(this.isLoading=!0,this.store.dispatch(new d(this.addForm.value.title,this.addForm.value.message,this.store.selectSnapshot(f.b),this.store.selectSnapshot(f.a))).subscribe((function(){n.store.dispatch(new b.b),n.location.back(),n.isLoading=!1})))}},{key:"onCancel",value:function(){var n=this;this.addForm.dirty?this.modalService.cancelEditing().pipe(Object(u.a)(Boolean)).subscribe((function(){n.location.back()})):this.location.back()}}]),n}(),F.\u0275fac=function(n){return new(n||F)(m.Ob(a.h),m.Ob(h.h),m.Ob(p.a))},F.\u0275cmp=m.Ib({type:F,selectors:[["app-add-post-home"]],decls:24,vars:24,consts:[["nz-form","",3,"formGroup","ngSubmit"],["nzRequired","","nzFor","title",3,"nzSm","nzXs"],[3,"nzSm","nzXs","nzErrorTip"],["type","text","nz-input","","minlength","10","maxlength","200","formControlName","title","id","title"],["nzFor","message","nzRequired","",3,"nzSm","nzXs"],["rows","5","nz-input","","id","message","formControlName","message","minlength","50","maxlength","1000"],[1,"justify-center"],["nz-button","","nzSize","large","type","button",1,"mr4",3,"click"],["nz-icon","","nzType","left"],["nz-button","","nzSize","large","nzType","primary","type","submit",3,"nzLoading"],["nz-icon","","nzType","save"],["inputErrorsTemplate",""],[4,"ngIf"]],template:function(n,t){if(1&n&&(m.Ub(0,"form",0),m.cc("ngSubmit",(function(){return t.savePost()})),m.Ub(1,"nz-form-item"),m.Ub(2,"nz-form-label",1),m.Dc(3),m.gc(4,"translate"),m.Tb(),m.Ub(5,"nz-form-control",2),m.Pb(6,"input",3),m.Tb(),m.Tb(),m.Ub(7,"nz-form-item"),m.Ub(8,"nz-form-label",4),m.Dc(9),m.gc(10,"translate"),m.Tb(),m.Ub(11,"nz-form-control",2),m.Pb(12,"textarea",5),m.Tb(),m.Tb(),m.Ub(13,"nz-form-item",6),m.Ub(14,"button",7),m.cc("click",(function(){return t.onCancel()})),m.Pb(15,"i",8),m.Dc(16),m.gc(17,"translate"),m.Tb(),m.Ub(18,"button",9),m.Pb(19,"i",10),m.Dc(20),m.gc(21,"translate"),m.Tb(),m.Tb(),m.Tb(),m.Bc(22,D,3,3,"ng-template",null,11,m.Cc)),2&n){var e=m.sc(23);m.lc("formGroup",t.addForm),m.Cb(2),m.lc("nzSm",6)("nzXs",24),m.Cb(1),m.Fc(" ",m.hc(4,16,"ADD.TITLE")," "),m.Cb(2),m.lc("nzSm",14)("nzXs",24)("nzErrorTip",e),m.Cb(3),m.lc("nzSm",6)("nzXs",24),m.Cb(1),m.Fc(" ",m.hc(10,18,"ADD.MESSAGE")," "),m.Cb(2),m.lc("nzSm",14)("nzXs",24)("nzErrorTip",e),m.Cb(5),m.Fc(" ",m.hc(17,20,"ADD.CANCEL")," "),m.Cb(2),m.lc("nzLoading",t.isLoading),m.Cb(2),m.Fc(" ",m.hc(21,22,"ADD.SUBMIT")," ")}},directives:[r.r,r.n,g.b,r.g,z.c,g.c,z.a,g.d,g.a,v.b,r.b,r.j,r.i,r.m,r.e,C.a,w.a,y.a,S.a,h.l],pipes:[T.c],encapsulation:2}),F)}],U=((O=function n(){e(this,n)}).\u0275mod=m.Mb({type:O}),O.\u0275inj=m.Lb({factory:function(n){return new(n||O)},imports:[[s.i.forChild(A)],s.i]}),O),q=o("Cfvw"),I=o("I/3d"),X=((R=function(){function n(t){e(this,n),this.firestore=t}return t(n,[{key:"savePost",value:function(n,t,e,i){var o={title:n,message:t,language:i,createdAt:new Date,likesCount:0,commentsCount:0,dislikesCount:0,uuid:e};return Object(q.a)(this.firestore.collection("posts").add(o))}}]),n}()).\u0275fac=function(n){return new(n||R)(m.Yb(I.a))},R.\u0275prov=m.Kb({token:R,factory:R.\u0275fac}),R),N=o("mrSG"),x=o("vkgz"),B=o("JIr8"),G=((j=function(){function n(t){e(this,n),this.addPostService=t}return t(n,[{key:"saveAddedPost",value:function(n,t){this.addPostService.savePost(t.title,t.message,t.uuid,t.language).pipe(Object(x.a)((function(){return n.dispatch(new b.b)})),Object(B.a)((function(t){throw n.dispatch(new b.a),t})))}}]),n}()).\u0275fac=function(n){return new(n||j)(m.Yb(X))},j.\u0275prov=m.Kb({token:j,factory:j.\u0275fac}),Object(N.a)([Object(a.a)(d)],j.prototype,"saveAddedPost",null),j=Object(N.a)([Object(a.f)({name:"addPost",defaults:null})],j)),M=((k=function n(){e(this,n)}).\u0275mod=m.Mb({type:k}),k.\u0275inj=m.Lb({factory:function(n){return new(n||k)},providers:[X],imports:[[c.a,U,r.h,r.p,a.e.forFeature([G])]]}),k)}}])}();