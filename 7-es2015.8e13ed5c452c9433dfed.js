(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{NELs:function(t,n,e){"use strict";e.r(n),e.d(n,"AddPostModule",(function(){return F}));var r=e("3Pt+"),i=e("AcyG"),o=e("PCNd"),s=e("tyNb"),c=e("pLZG"),a=e("xDUJ"),b=e("EBwW"),l=e("XKO9");let m=(()=>{class t{constructor(t,n,e,r){this.title=t,this.message=n,this.uuid=e,this.language=r}}return t.type="[Add Post] Save",t})();var u=e("fXoL"),d=e("ofXK"),h=e("JK/P"),p=e("ocnv"),f=e("B+r4"),z=e("PTRe"),g=e("OzZK"),C=e("RwU8"),E=e("C2AL"),v=e("FwiY"),w=e("sYmb");function S(t,n){1&t&&(u.Tb(0),u.Cc(1),u.hc(2,"translate"),u.Sb()),2&t&&(u.Cb(1),u.Ec(" ",u.ic(2,1,"ERROR.MAXLENGTH")," "))}function y(t,n){1&t&&(u.Tb(0),u.Cc(1),u.hc(2,"translate"),u.Sb()),2&t&&(u.Cb(1),u.Ec(" ",u.ic(2,1,"ERROR.MINLENGTH")," "))}function L(t,n){1&t&&(u.Tb(0),u.Cc(1),u.hc(2,"translate"),u.Sb()),2&t&&(u.Cb(1),u.Ec(" ",u.ic(2,1,"ERROR.REQUIRED")," "))}function A(t,n){if(1&t&&(u.Ac(0,S,3,3,"ng-container",12),u.Ac(1,y,3,3,"ng-container",12),u.Ac(2,L,3,3,"ng-container",12)),2&t){const t=n.$implicit;u.mc("ngIf",t.hasError("maxlength")),u.Cb(1),u.mc("ngIf",t.hasError("minlength")),u.Cb(1),u.mc("ngIf",t.hasError("required"))}}const P=[{path:"",component:(()=>{class t{constructor(t,n,e){this.store=t,this.location=n,this.modalService=e,this.addForm=new r.f({title:new r.c(null,[r.q.required,r.q.minLength(10),r.q.maxLength(200)]),message:new r.c(null,[r.q.required,r.q.minLength(50),r.q.maxLength(1e3)])}),this.isLoading=!1}savePost(){Object(a.a)(this.addForm),this.addForm.valid&&(this.isLoading=!0,this.store.dispatch(new m(this.addForm.value.title,this.addForm.value.message,this.store.selectSnapshot(l.b),this.store.selectSnapshot(l.a))).subscribe(()=>{this.store.dispatch(new b.b),this.location.back(),this.isLoading=!1}))}onCancel(){this.addForm.dirty?this.modalService.cancelEditing().pipe(Object(c.a)(Boolean)).subscribe(()=>{this.location.back()}):this.location.back()}}return t.\u0275fac=function(n){return new(n||t)(u.Pb(i.h),u.Pb(d.h),u.Pb(h.a))},t.\u0275cmp=u.Jb({type:t,selectors:[["app-add-post-home"]],decls:24,vars:24,consts:[["nz-form","",3,"formGroup","ngSubmit"],["nzRequired","","nzFor","title",3,"nzSm","nzXs"],[3,"nzSm","nzXs","nzErrorTip"],["type","text","nz-input","","minlength","10","maxlength","200","formControlName","title","id","title"],["nzFor","message","nzRequired","",3,"nzSm","nzXs"],["rows","5","nz-input","","id","message","formControlName","message","minlength","50","maxlength","1000"],[1,"justify-center"],["nz-button","","nzSize","large","type","button",1,"mr4",3,"click"],["nz-icon","","nzType","left"],["nz-button","","nzSize","large","nzType","primary","type","submit",3,"nzLoading"],["nz-icon","","nzType","save"],["inputErrorsTemplate",""],[4,"ngIf"]],template:function(t,n){if(1&t&&(u.Vb(0,"form",0),u.dc("ngSubmit",(function(){return n.savePost()})),u.Vb(1,"nz-form-item"),u.Vb(2,"nz-form-label",1),u.Cc(3),u.hc(4,"translate"),u.Ub(),u.Vb(5,"nz-form-control",2),u.Qb(6,"input",3),u.Ub(),u.Ub(),u.Vb(7,"nz-form-item"),u.Vb(8,"nz-form-label",4),u.Cc(9),u.hc(10,"translate"),u.Ub(),u.Vb(11,"nz-form-control",2),u.Qb(12,"textarea",5),u.Ub(),u.Ub(),u.Vb(13,"nz-form-item",6),u.Vb(14,"button",7),u.dc("click",(function(){return n.onCancel()})),u.Qb(15,"i",8),u.Cc(16),u.hc(17,"translate"),u.Ub(),u.Vb(18,"button",9),u.Qb(19,"i",10),u.Cc(20),u.hc(21,"translate"),u.Ub(),u.Ub(),u.Ub(),u.Ac(22,A,3,3,"ng-template",null,11,u.Bc)),2&t){const t=u.tc(23);u.mc("formGroup",n.addForm),u.Cb(2),u.mc("nzSm",6)("nzXs",24),u.Cb(1),u.Ec(" ",u.ic(4,16,"ADD.TITLE")," "),u.Cb(2),u.mc("nzSm",14)("nzXs",24)("nzErrorTip",t),u.Cb(3),u.mc("nzSm",6)("nzXs",24),u.Cb(1),u.Ec(" ",u.ic(10,18,"ADD.MESSAGE")," "),u.Cb(2),u.mc("nzSm",14)("nzXs",24)("nzErrorTip",t),u.Cb(5),u.Ec(" ",u.ic(17,20,"ADD.CANCEL")," "),u.Cb(2),u.mc("nzLoading",n.isLoading),u.Cb(2),u.Ec(" ",u.ic(21,22,"ADD.SUBMIT")," ")}},directives:[r.r,r.n,p.b,r.g,f.c,p.c,f.a,p.d,p.a,z.b,r.b,r.j,r.i,r.m,r.e,g.a,C.a,E.a,v.a,d.l],pipes:[w.c],encapsulation:2}),t})()}];let T=(()=>{class t{}return t.\u0275mod=u.Nb({type:t}),t.\u0275inj=u.Mb({factory:function(n){return new(n||t)},imports:[[s.i.forChild(P)],s.i]}),t})();var R=e("Cfvw"),O=e("I/3d");let U=(()=>{class t{constructor(t){this.firestore=t}savePost(t,n,e,r){const i={title:t,message:n,language:r,createdAt:new Date,likesCount:0,commentsCount:0,dislikesCount:0,uuid:e};return Object(R.a)(this.firestore.collection("posts").add(i))}}return t.\u0275fac=function(n){return new(n||t)(u.Zb(O.a))},t.\u0275prov=u.Lb({token:t,factory:t.\u0275fac}),t})();var j=e("mrSG"),k=e("vkgz"),q=e("JIr8");let D=(()=>{let t=class{constructor(t){this.addPostService=t}saveAddedPost(t,n){this.addPostService.savePost(n.title,n.message,n.uuid,n.language).pipe(Object(k.a)(()=>t.dispatch(new b.b)),Object(q.a)(n=>{throw t.dispatch(new b.a),n}))}};return t.\u0275fac=function(n){return new(n||t)(u.Zb(U))},t.\u0275prov=u.Lb({token:t,factory:t.\u0275fac}),Object(j.b)([Object(i.a)(m)],t.prototype,"saveAddedPost",null),t=Object(j.b)([Object(i.f)({name:"addPost",defaults:null})],t),t})(),F=(()=>{class t{}return t.\u0275mod=u.Nb({type:t}),t.\u0275inj=u.Mb({factory:function(n){return new(n||t)},providers:[U],imports:[[o.a,T,r.h,r.p,i.e.forFeature([D])]]}),t})()}}]);