!function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function e(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"2a21":function(t,o,c){"use strict";c.r(o),c.d(o,"PostDetailsModule",(function(){return Lt}));var i=c("3Pt+"),s=c("AcyG"),r=c("PCNd"),a=c("tyNb");function u(t){return null!=t&&"object"==typeof t&&!0===t["@@functional/placeholder"]}function l(t){return function e(n){return 0===arguments.length||u(n)?e:t.apply(this,arguments)}}var m,p=l((function(t){return null===t?"Null":void 0===t?"Undefined":Object.prototype.toString.call(t).slice(8,-1)})),b=l((function(t){return null!=t&&"function"==typeof t.clone?t.clone():function t(e,n,o,c){var i,s=function(i){for(var s=n.length,r=0;r<s;){if(e===n[r])return o[r];r+=1}for(var a in n[r+1]=e,o[r+1]=i,e)i[a]=c?t(e[a],n,o,!0):e[a];return i};switch(p(e)){case"Object":return s({});case"Array":return s([]);case"Date":return new Date(e.valueOf());case"RegExp":return i=e,new RegExp(i.source,(i.global?"g":"")+(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.sticky?"y":"")+(i.unicode?"u":""));default:return e}}(t,[],[],!0)})),h=c("quSY"),d=c("VRyK"),f=c("lJxs"),C=c("/uUt"),v=c("eIep"),y=c("SxV6"),g=c("pLZG"),k=c("zONo"),z=c("XKO9"),w=c("OQLM"),T=c("B0Pf"),I=function(){var t=function t(e){n(this,t),this.postId=e};return t.type="[Post Details] Get",t}(),O=function(){var t=function t(e,o){n(this,t),this.postId=e,this.sortBy=o};return t.type="[Post Details] Get Post Comments",t}(),S=function(t){return t.postDetails},E=function(t){return S(t).post},j=function(t){return S(t).comments},U=c("fXoL"),D=c("Cfvw"),R=c("bO7i"),V=c("I/3d"),A=((m=function(){function t(e){n(this,t),this.firestore=e}return e(t,[{key:"getPostDetails",value:function(t){return this.firestore.collection("posts").doc(t).get().pipe(Object(f.a)((function(t){var e=Object(R.a)(t.data());return e.id=t.id,e})))}},{key:"saveComment",value:function(t,e,n,o){var c={comment:t,uuid:e,parentDocId:n,createdAt:new Date,likesCount:0,dislikesCount:0};return Object(D.a)(this.firestore.collection("posts").doc(o).collection("comments").add(c))}},{key:"getComments",value:function(t,e){var n=k.b[e],o=n.orderByField,c=n.orderByDirection;return this.firestore.collection("posts").doc(t).collection("comments",(function(t){return t.orderBy(o,c)})).get().pipe(Object(f.a)((function(e){return function(t,e){var n=t.filter((function(t){return t.parentDocId===e}));return n.forEach((function(e){return function t(e,n){n.childComments=e.filter((function(t){return t.parentDocId===n.id})),n.childComments.forEach((function(n){t(e,n)}))}(t,e)})),n}(e.docs.map((function(t){var e,n=(e=t.data(),Object.assign(Object.assign({},e),{createdAt:e.createdAt.toDate(),shouldShowChildComments:!0,shouldShowReplyTo:!1}));return n.id=t.id,n})),t)})))}}]),t}()).\u0275fac=function(t){return new(t||m)(U.Zb(V.a))},m.\u0275prov=U.Lb({token:m,factory:m.\u0275fac}),m),P=c("ofXK"),L=c("JA5x"),B=c("eHCX"),M=c("OzZK"),$=c("C2AL"),N=c("FwiY"),G=c("Mean"),Q=c("RwU8"),F=c("xDUJ"),x=c("JK/P"),W=c("B+r4"),J=c("ocnv"),Y=c("PTRe"),q=c("sYmb");function K(t,e){1&t&&(U.Tb(0),U.Cc(1),U.hc(2,"translate"),U.Sb()),2&t&&(U.Cb(1),U.Ec(" ",U.ic(2,1,"ERROR.MAXLENGTH")," "))}function X(t,e){1&t&&(U.Tb(0),U.Cc(1),U.hc(2,"translate"),U.Sb()),2&t&&(U.Cb(1),U.Ec(" ",U.ic(2,1,"ERROR.MINLENGTH")," "))}function Z(t,e){1&t&&(U.Tb(0),U.Cc(1),U.hc(2,"translate"),U.Sb()),2&t&&(U.Cb(1),U.Ec(" ",U.ic(2,1,"ERROR.REQUIRED")," "))}function H(t,e){if(1&t&&(U.Ac(0,K,3,3,"ng-container",8),U.Ac(1,X,3,3,"ng-container",8),U.Ac(2,Z,3,3,"ng-container",8)),2&t){var n=e.$implicit;U.mc("ngIf",n.hasError("maxlength")),U.Cb(1),U.mc("ngIf",n.hasError("minlength")),U.Cb(1),U.mc("ngIf",n.hasError("required"))}}var _,tt=((_=function(){function t(e,o){n(this,t),this.store=e,this.modalService=o,this.saveComment=new U.o,this.cancel=new U.o,this.replyToFormGroup=new i.f({comment:new i.c(null,[i.q.required,i.q.minLength(10),i.q.maxLength(300)])})}return e(t,[{key:"onSubmit",value:function(){Object(F.a)(this.replyToFormGroup),this.replyToFormGroup.valid&&(this.saveComment.emit(this.replyToFormGroup.value.comment),this.replyToFormGroup.reset())}},{key:"onCancel",value:function(){var t=this;this.replyToFormGroup.dirty?this.modalService.cancelEditing().pipe(Object(g.a)(Boolean)).subscribe((function(){t.cancel.emit()})):this.cancel.emit()}}]),t}()).\u0275fac=function(t){return new(t||_)(U.Pb(s.h),U.Pb(x.a))},_.\u0275cmp=U.Jb({type:_,selectors:[["app-comment-reply-to"]],hostAttrs:[1,"db"],outputs:{saveComment:"saveComment",cancel:"cancel"},decls:16,vars:8,consts:[[3,"formGroup","ngSubmit"],[3,"nzErrorTip"],["nz-input","","formControlName","comment","placeholder","Comment"],["nz-button","","type","button",1,"mr4",3,"click"],["nz-icon","","nzType","close"],["nz-button","","nzType","primary","type","submit"],["nz-icon","","nzType","save"],["inputErrorsTemplate",""],[4,"ngIf"]],template:function(t,e){if(1&t&&(U.Vb(0,"form",0),U.dc("ngSubmit",(function(){return e.onSubmit()})),U.Vb(1,"nz-form-item"),U.Vb(2,"nz-form-control",1),U.Qb(3,"textarea",2),U.Ub(),U.Ub(),U.Vb(4,"nz-form-item"),U.Vb(5,"nz-form-control"),U.Vb(6,"button",3),U.dc("click",(function(){return e.onCancel()})),U.Qb(7,"i",4),U.Cc(8),U.hc(9,"translate"),U.Ub(),U.Vb(10,"button",5),U.Qb(11,"i",6),U.Cc(12),U.hc(13,"translate"),U.Ub(),U.Ub(),U.Ub(),U.Ub(),U.Ac(14,H,3,3,"ng-template",null,7,U.Bc)),2&t){var n=U.tc(15);U.mc("formGroup",e.replyToFormGroup),U.Cb(2),U.mc("nzErrorTip",n),U.Cb(6),U.Ec(" ",U.ic(9,4,"ADD.CANCEL")," "),U.Cb(4),U.Ec(" ",U.ic(13,6,"ADD.SUBMIT")," ")}},directives:[i.r,i.n,i.g,W.c,J.c,W.a,J.a,Y.b,i.b,i.m,i.e,M.a,Q.a,$.a,N.a,P.l],pipes:[q.c],encapsulation:2}),_),et=c("5vDB"),nt=c("zAKX"),ot=c("R0Ic"),ct=c("ZVAZ");function it(t,e){if(1&t){var n=U.Wb();U.Vb(0,"app-comment-reply-to",10),U.dc("cancel",(function(){U.uc(n);var t=U.gc().$implicit;return U.gc().hideReplyTo(t)}))("saveComment",(function(t){U.uc(n);var e=U.gc().$implicit;return U.gc().onSaveComment(t,e.id)})),U.Ub()}2&t&&U.mc("@inOut",void 0)}function st(t,e){1&t&&(U.Tb(0),U.Qb(1,"i",13),U.Cc(2),U.hc(3,"translate"),U.Sb()),2&t&&(U.Cb(2),U.Ec(" ",U.ic(3,1,"COMMENTS.HIDE")," "))}function rt(t,e){1&t&&(U.Tb(0),U.Qb(1,"i",14),U.Cc(2),U.hc(3,"translate"),U.Sb()),2&t&&(U.Cb(2),U.Ec(" ",U.ic(3,1,"COMMENTS.VIEW")," "))}function at(t,e){if(1&t){var n=U.Wb();U.Vb(0,"app-post-comments",15),U.dc("saveComment",(function(t){return U.uc(n),U.gc(3).saveComment.emit(t)})),U.Ub()}if(2&t){var o=U.gc(2).$implicit,c=U.gc();U.mc("@inOut",void 0)("postId",c.postId)("comments",o.childComments)}}var ut=function(t){return{count:t}};function lt(t,e){if(1&t){var n=U.Wb();U.Tb(0),U.Vb(1,"button",11),U.dc("click",(function(){U.uc(n);var t=U.gc().$implicit;return U.gc().toggleShowChildComments(t)})),U.Vb(2,"span"),U.Ac(3,st,4,3,"ng-container",9),U.Ac(4,rt,4,3,"ng-container",9),U.Cc(5),U.hc(6,"translate"),U.Ub(),U.Ub(),U.Ac(7,at,1,3,"app-post-comments",12),U.Sb()}if(2&t){var o=U.gc().$implicit;U.Cb(3),U.mc("ngIf",o.shouldShowChildComments),U.Cb(1),U.mc("ngIf",!o.shouldShowChildComments),U.Cb(1),U.Ec(" ",U.jc(6,4,1===o.childComments.length?"COMMENTS.REPLY":"COMMENTS.REPLIES",U.pc(7,ut,o.childComments.length))," "),U.Cb(2),U.mc("ngIf",o.shouldShowChildComments)}}function mt(t,e){if(1&t){var n=U.Wb();U.Vb(0,"nz-comment",1),U.hc(1,"date"),U.Vb(2,"nz-comment-content"),U.Vb(3,"p"),U.Cc(4),U.Ub(),U.Ub(),U.Vb(5,"nz-comment-action"),U.Vb(6,"button",2),U.dc("click",(function(){U.uc(n);var t=e.$implicit;return U.gc().like(t)})),U.Qb(7,"i",3),U.hc(8,"async"),U.Vb(9,"span",4),U.Cc(10),U.Ub(),U.Ub(),U.Ub(),U.Vb(11,"nz-comment-action"),U.Vb(12,"button",2),U.dc("click",(function(){U.uc(n);var t=e.$implicit;return U.gc().dislike(t)})),U.Qb(13,"i",5),U.hc(14,"async"),U.Vb(15,"span",6),U.Cc(16),U.Ub(),U.Ub(),U.Ub(),U.Vb(17,"nz-comment-action"),U.Vb(18,"button",2),U.dc("click",(function(){U.uc(n);var t=e.$implicit;return U.gc().showReplyTo(t)})),U.Qb(19,"i",7),U.Cc(20),U.hc(21,"translate"),U.Ub(),U.Ub(),U.Ac(22,it,1,1,"app-comment-reply-to",8),U.Ac(23,lt,8,9,"ng-container",9),U.Ub()}if(2&t){var o=e.$implicit,c=U.gc();U.nc("nzDatetime",U.jc(1,9,o.createdAt,"medium")),U.Cb(4),U.Ec(" ",o.comment," "),U.Cb(3),U.mc("nzTheme",U.ic(8,12,c.doesUserLikesComment$(o.id))?"fill":"outline"),U.Cb(3),U.Dc(o.likesCount),U.Cb(3),U.mc("nzTheme",U.ic(14,14,c.doesUserDislikesComment$(o.id))?"fill":"outline"),U.Cb(3),U.Dc(o.dislikesCount),U.Cb(4),U.Ec(" ",U.ic(21,16,"REPLY")," "),U.Cb(2),U.mc("ngIf",o.shouldShowReplyTo),U.Cb(1),U.mc("ngIf",o.childComments&&o.childComments.length)}}var pt,bt=((pt=function(){function t(e){n(this,t),this.store=e,this.cancelComment=new U.o,this.saveComment=new U.o}return e(t,[{key:"showReplyTo",value:function(t){t.shouldShowReplyTo=!0}},{key:"hideReplyTo",value:function(t){t.shouldShowReplyTo=!1}},{key:"toggleShowChildComments",value:function(t){t.shouldShowChildComments=!t.shouldShowChildComments}},{key:"doesUserLikesComment$",value:function(t){return this.store.select(Object(T.b)(t))}},{key:"doesUserDislikesComment$",value:function(t){return this.store.select(Object(T.a)(t))}},{key:"like",value:function(t){var e=this,n=this.store.selectSnapshot(z.b);this.doesUserLikesComment$(t.id).pipe(Object(y.a)()).subscribe((function(o){o?(e.store.dispatch(new w.b(n,e.postId,t.id)),t.likesCount--):(e.store.dispatch(new w.h(n,e.postId,t.id)),t.likesCount++,e.doesUserDislikesComment$(t.id).pipe(Object(y.a)(),Object(g.a)(Boolean)).subscribe((function(){e.store.dispatch(new w.a(n,e.postId,t.id)),t.dislikesCount--})))}))}},{key:"dislike",value:function(t){var e=this,n=this.store.selectSnapshot(z.b);this.doesUserDislikesComment$(t.id).pipe(Object(y.a)()).subscribe((function(o){o?(e.store.dispatch(new w.a(n,e.postId,t.id)),t.dislikesCount--):(e.store.dispatch(new w.c(n,e.postId,t.id)),t.dislikesCount++,e.doesUserLikesComment$(t.id).pipe(Object(y.a)(),Object(g.a)(Boolean)).subscribe((function(){e.store.dispatch(new w.b(n,e.postId,t.id)),t.likesCount--})))}))}},{key:"onSaveComment",value:function(t,e){this.saveComment.emit({comment:t,parentDocId:e})}}]),t}()).\u0275fac=function(t){return new(t||pt)(U.Pb(s.h))},pt.\u0275cmp=U.Jb({type:pt,selectors:[["app-post-comments"]],hostAttrs:[1,"db"],inputs:{comments:"comments",postId:"postId",parentDocId:"parentDocId",shouldShowReplyTo:"shouldShowReplyTo"},outputs:{cancelComment:"cancelComment",saveComment:"saveComment"},decls:1,vars:1,consts:[[3,"nzDatetime",4,"ngFor","ngForOf"],[3,"nzDatetime"],["nz-button","","nzType","link",3,"click"],["nz-tooltip","","nzTitle","Like","nz-icon","","nzType","like",3,"nzTheme"],[1,"count","like"],["nz-tooltip","","nzTitle","Dislike","nz-icon","","nzType","dislike",3,"nzTheme"],[1,"count","dislike"],["nz-icon","","nzType","comment"],["class","db ph3-ns",3,"cancel","saveComment",4,"ngIf"],[4,"ngIf"],[1,"db","ph3-ns",3,"cancel","saveComment"],["nz-button","","nzType","link",1,"mb2",3,"click"],[3,"postId","comments","saveComment",4,"ngIf"],["nz-icon","","nzType","up","nzTheme","outline"],["nz-icon","","nzType","down","nzTheme","outline"],[3,"postId","comments","saveComment"]],template:function(t,e){1&t&&U.Ac(0,mt,24,18,"nz-comment",0),2&t&&U.mc("ngForOf",e.comments)},directives:[P.k,ct.b,ct.c,ct.a,M.a,$.a,N.a,P.l,tt,pt],pipes:[P.e,P.b,q.c],encapsulation:2,data:{animation:[Object(ot.l)("inOut",[Object(ot.k)(":enter",[Object(ot.j)({transform:"translateY(-10%)",opacity:0}),Object(ot.e)(300)]),Object(ot.k)(":leave",[Object(ot.e)(300,Object(ot.j)({transform:"translateY(-10%)",opacity:0}))])])]}}),pt),ht=function(t,e,n){return[t,e,n]};function dt(t,e){if(1&t&&(U.Vb(0,"nz-card",7),U.Vb(1,"p",8),U.Cc(2),U.Ub(),U.Vb(3,"time",9),U.Cc(4),U.hc(5,"date"),U.Ub(),U.Ub()),2&t){var n=U.gc(),o=U.tc(2),c=U.tc(4),i=U.tc(6);U.mc("nzLoading",!n.post)("nzTitle",null==n.post?null:n.post.title)("nzActions",U.rc(8,ht,o,c,i)),U.Cb(2),U.Ec(" ",null==n.post?null:n.post.message," "),U.Cb(2),U.Ec(" ",U.jc(5,5,null==n.post?null:n.post.createdAt,"medium")," ")}}function ft(t,e){if(1&t){var n=U.Wb();U.Vb(0,"button",10),U.dc("click",(function(){return U.uc(n),U.gc().like()})),U.Qb(1,"i",11),U.hc(2,"async"),U.Cc(3),U.Ub()}if(2&t){var o=U.gc();U.Cb(1),U.mc("nzTheme",U.ic(2,2,o.doesUserLikePost$)?"fill":"outline"),U.Cb(2),U.Ec(" ",null==o.post?null:o.post.likesCount," ")}}function Ct(t,e){if(1&t){var n=U.Wb();U.Vb(0,"button",10),U.dc("click",(function(){return U.uc(n),U.gc().dislike()})),U.Qb(1,"i",12),U.hc(2,"async"),U.Cc(3),U.Ub()}if(2&t){var o=U.gc();U.Cb(1),U.mc("nzTheme",U.ic(2,2,o.doesUserDislikePost$)?"fill":"outline"),U.Cb(2),U.Ec(" ",null==o.post?null:o.post.dislikesCount," ")}}function vt(t,e){if(1&t){var n=U.Wb();U.Vb(0,"button",10),U.dc("click",(function(){return U.uc(n),U.gc().showReplyTo()})),U.Qb(1,"i",13),U.Cc(2),U.hc(3,"translate"),U.Ub()}2&t&&(U.Cb(2),U.Ec(" ",U.ic(3,1,"REPLY")," "))}function yt(t,e){if(1&t){var n=U.Wb();U.Vb(0,"nz-result",14),U.hc(1,"translate"),U.Vb(2,"div",15),U.Vb(3,"button",16),U.dc("click",(function(){return U.uc(n),U.gc().getPostDetails()})),U.Cc(4),U.hc(5,"translate"),U.Ub(),U.Ub(),U.Ub()}2&t&&(U.mc("nzTitle",U.ic(1,2,"MESSAGES.FAILED")),U.Cb(4),U.Ec(" ",U.ic(5,4,"RETRY")," "))}function gt(t,e){if(1&t){var n=U.Wb();U.Vb(0,"app-comment-reply-to",17),U.dc("cancel",(function(){return U.uc(n),U.gc().hideReplyTo()}))("saveComment",(function(t){U.uc(n);var e=U.gc();return e.saveComment(t,e.postId)})),U.Ub()}}function kt(t,e){if(1&t){var n=U.Wb();U.Vb(0,"app-post-comments",23),U.dc("saveComment",(function(t){return U.uc(n),U.gc(2).saveComment(t.comment,t.parentDocId)})),U.Ub()}if(2&t){var o=U.gc(2);U.mc("comments",o.comments)("postId",o.postId)}}var zt=function(t){return{count:t}};function wt(t,e){if(1&t&&(U.Tb(0),U.Qb(1,"nz-divider",18),U.hc(2,"translate"),U.Vb(3,"div",19),U.Cc(4),U.hc(5,"translate"),U.Vb(6,"nz-select",20),U.Qb(7,"nz-option",21),U.hc(8,"translate"),U.Qb(9,"nz-option",21),U.hc(10,"translate"),U.Qb(11,"nz-option",21),U.hc(12,"translate"),U.Ub(),U.Ub(),U.Ac(13,kt,1,2,"app-post-comments",22),U.Sb()),2&t){var n=U.gc();U.Cb(1),U.mc("nzText",U.ic(2,10,"COMMENTS.COMMENTS")),U.Cb(3),U.Ec(" ",U.jc(5,12,1===n.comments.length?"COMMENTS.REPLY":"COMMENTS.REPLIES",U.pc(21,zt,n.comments.length))," "),U.Cb(2),U.mc("formControl",n.sortBy),U.Cb(1),U.mc("nzValue",n.SortBy.MostLikes)("nzLabel",U.ic(8,15,n.SortBy.MostLikes)),U.Cb(2),U.mc("nzValue",n.SortBy.MostDislikes)("nzLabel",U.ic(10,17,n.SortBy.MostDislikes)),U.Cb(2),U.mc("nzValue",n.SortBy.NewestPosts)("nzLabel",U.ic(12,19,n.SortBy.NewestPosts)),U.Cb(2),U.mc("ngIf",n.post&&n.comments)}}var Tt,It,Ot,St,Et=[{path:":id",component:(Tt=function(){function t(e,o,c){n(this,t),this.route=e,this.store=o,this.postDetailsService=c,this.shouldShowReplyTo=!0,this.hasError=!1,this.SortBy=k.a,this.sortBy=new i.c(k.a.MostLikes),this.subscription=new h.a}return e(t,[{key:"ngOnInit",value:function(){var t=this,e=this.route.params.pipe(Object(f.a)((function(e){return t.postId=e.id,t.postId})),Object(C.a)());this.subscription.add(e.subscribe((function(){t.getPostDetails()}))),this.subscription.add(this.store.select(E).subscribe((function(e){t.post=b(e)}))),this.subscription.add(this.store.select(j).subscribe((function(e){t.comments=b(e)}))),this.subscription.add(Object(d.a)(e,this.sortBy.valueChanges).pipe(Object(v.a)((function(){return t.store.dispatch(new O(t.postId,t.sortBy.value))}))).subscribe()),this.doesUserLikePost$=e.pipe(Object(v.a)((function(e){return t.store.select(Object(T.b)(e))}))),this.doesUserDislikePost$=e.pipe(Object(v.a)((function(e){return t.store.select(Object(T.a)(e))})))}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"showReplyTo",value:function(){this.shouldShowReplyTo=!0}},{key:"hideReplyTo",value:function(){this.shouldShowReplyTo=!1}},{key:"like",value:function(){var t=this,e=this.store.selectSnapshot(z.b);this.doesUserLikePost$.pipe(Object(y.a)()).subscribe((function(n){n?(t.store.dispatch(new w.b(e,t.postId)),t.post.likesCount--):(t.store.dispatch(new w.h(e,t.postId)),t.post.likesCount++,t.doesUserDislikePost$.pipe(Object(y.a)(),Object(g.a)(Boolean)).subscribe((function(){t.store.dispatch(new w.a(e,t.postId)),t.post.dislikesCount--})))}))}},{key:"dislike",value:function(){var t=this,e=this.store.selectSnapshot(z.b);this.doesUserDislikePost$.pipe(Object(y.a)()).subscribe((function(n){n?(t.store.dispatch(new w.a(e,t.postId)),t.post.dislikesCount--):(t.store.dispatch(new w.c(e,t.postId)),t.post.dislikesCount++,t.doesUserLikePost$.pipe(Object(y.a)(),Object(g.a)(Boolean)).subscribe((function(){t.store.dispatch(new w.b(e,t.postId)),t.post.likesCount--})))}))}},{key:"saveComment",value:function(t,e){var n=this;this.postDetailsService.saveComment(t,this.store.selectSnapshot(z.b),e,this.postId).subscribe((function(){n.store.dispatch(new O(n.postId,n.sortBy.value))}))}},{key:"getPostDetails",value:function(){var t=this;this.store.dispatch(new I(this.postId)).subscribe((function(){t.hasError=!1}),(function(){t.hasError=!0})),this.store.dispatch(new O(this.postId,this.sortBy.value))}}]),t}(),Tt.\u0275fac=function(t){return new(t||Tt)(U.Pb(a.a),U.Pb(s.h),U.Pb(A))},Tt.\u0275cmp=U.Jb({type:Tt,selectors:[["app-post-details-home"]],hostAttrs:[1,"db","bg-white"],decls:10,vars:4,consts:[["class","w-100",3,"nzLoading","nzTitle","nzActions",4,"ngIf"],["actionLike",""],["actionDislike",""],["actionComment",""],["nzStatus","warning",3,"nzTitle",4,"ngIf"],["class","db ph3 pt3 pb1",3,"cancel","saveComment",4,"ngIf"],[4,"ngIf"],[1,"w-100",3,"nzLoading","nzTitle","nzActions"],["nz-typography",""],["nz-typography","","nzType","secondary"],["nz-button","","nzType","link",1,"w-100",3,"click"],["nz-icon","","nzType","like",3,"nzTheme"],["nz-icon","","nzType","dislike",3,"nzTheme"],["nz-icon","","nzType","comment"],["nzStatus","warning",3,"nzTitle"],["nz-result-extra",""],["nz-button","","nzType","primary",3,"click"],[1,"db","ph3","pt3","pb1",3,"cancel","saveComment"],[3,"nzText"],[1,"ph3","flex","justify-between"],[3,"formControl"],[3,"nzValue","nzLabel"],[3,"comments","postId","saveComment",4,"ngIf"],[3,"comments","postId","saveComment"]],template:function(t,e){1&t&&(U.Ac(0,dt,6,12,"nz-card",0),U.Ac(1,ft,4,4,"ng-template",null,1,U.Bc),U.Ac(3,Ct,4,4,"ng-template",null,2,U.Bc),U.Ac(5,vt,4,3,"ng-template",null,3,U.Bc),U.Ac(7,yt,6,6,"nz-result",4),U.Ac(8,gt,1,0,"app-comment-reply-to",5),U.Ac(9,wt,14,23,"ng-container",6)),2&t&&(U.mc("ngIf",!e.hasError),U.Cb(7),U.mc("ngIf",!e.post&&e.hasError),U.Cb(1),U.mc("ngIf",e.shouldShowReplyTo&&!e.hasError),U.Cb(1),U.mc("ngIf",e.comments&&e.comments.length&&!e.hasError))},directives:[P.l,L.a,B.a,M.a,$.a,N.a,G.a,G.b,Q.a,tt,et.a,nt.b,i.m,i.d,nt.a,bt],pipes:[P.e,P.b,q.c],encapsulation:2}),Tt)}],jt=((It=function t(){n(this,t)}).\u0275mod=U.Nb({type:It}),It.\u0275inj=U.Mb({factory:function(t){return new(t||It)},imports:[[a.i.forChild(Et)],a.i]}),It),Ut=c("mrSG"),Dt=c("vkgz"),Rt=c("JIr8"),Vt=c("EBwW"),At={post:null,comments:[]},Pt=((St=function(){function t(e){n(this,t),this.postDetailsSerivce=e}return e(t,[{key:"getPostDetails",value:function(t,e){return t.patchState({post:null}),this.postDetailsSerivce.getPostDetails(e.postId).pipe(Object(Dt.a)((function(e){if(!e)throw e;t.patchState({post:e})})),Object(Rt.a)((function(e){throw t.dispatch(new Vt.a),e})))}},{key:"getPostComments",value:function(t,e){return this.postDetailsSerivce.getComments(e.postId,e.sortBy).pipe(Object(Dt.a)((function(e){t.patchState({comments:e})})),Object(Rt.a)((function(e){throw t.dispatch(new Vt.a),e})))}}]),t}()).\u0275fac=function(t){return new(t||St)(U.Zb(A))},St.\u0275prov=U.Lb({token:St,factory:St.\u0275fac}),Object(Ut.b)([Object(s.a)(I)],St.prototype,"getPostDetails",null),Object(Ut.b)([Object(s.a)(O)],St.prototype,"getPostComments",null),St=Object(Ut.b)([Object(s.f)({name:"postDetails",defaults:Object.assign({},At)})],St)),Lt=((Ot=function t(){n(this,t)}).\u0275mod=U.Nb({type:Ot}),Ot.\u0275inj=U.Mb({factory:function(t){return new(t||Ot)},providers:[A],imports:[[r.a,jt,i.h,i.p,s.e.forFeature([Pt])]]}),Ot)}}])}();